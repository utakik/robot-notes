<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Robot Notes : 実験ノート</title>
<style>
  body{font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Noto Sans JP",sans-serif;margin:24px;line-height:1.6;}
  nav a{margin-right:12px}
  code,pre{font-family:ui-monospace,SFMono-Regular,Consolas,Menlo,monospace}
  pre{background:#f6f8fa;border:1px solid #eaecef;padding:12px;overflow:auto}
  .muted{color:#666}
  iframe{width:100%;height:46vh;border:1px solid #eaecef}
  hr{margin:24px 0}
</style>
</head>
<body>

<nav>
  <a href="./index.html">Home</a>
  <a href="./tilt.html" target="_blank" rel="noopener">Tilt Control</a>
  <!-- ファイル名が LED.html（大文字）なのでリンクも大文字に合わせる -->
  <a href="./LED.html" target="_blank" rel="noopener">LED Test</a>
</nav>

<h1>接続方法（共通）</h1>
<ul>
  <li>WebSocket（低遅延）：例 <code>ws://ESP32のIP:81</code></li>
  <li>HTTP（簡易）：例 <code>http://ESP32のIP</code></li>
</ul>

<hr>

<h2>Tilt デモ（保存しない“流れるログ”）</h2>
<p class="muted">下は <code>tilt.html</code> を埋め込み。ログは保存されず画面内で流れます。</p>
<iframe src="./tilt.html" title="Tilt Control Demo"></iframe>

<hr>

<h2>Tilt のプログラミング（テキスト化ログ）</h2>

<h3>PC（Windows）で準備</h3>
<p>コマンドプロンプトを2つ開く（ロガー用・Web配信用）</p>

<h4>(A) ロガー起動</h4>
<pre><code>cd C:\Users\Admin\Desktop\himo_robot_dual_send
node server.js
</code></pre>
<p>成功すると出力:</p>
<pre><code>[logger] ws server listening on ws://0.0.0.0:8080
</code></pre>

<h4>(B) Webサーバー起動</h4>
<pre><code>cd C:\Users\Admin\Desktop\himo_robot_dual_send
npx http-server -p 3000 .
</code></pre>
<p>成功すると出力:</p>
<pre><code>Available on: http://192.168.2.101:3000
</code></pre>

<h3>スマホ（Android）で操作</h3>
<ul>
  <li>同じWi-Fi（モバイルデータOFF）</li>
  <li>Chrome: <code>http://192.168.2.101:3000/index.html</code></li>
  <li>宛先A: <code>ws://192.168.2.101:8080</code> / 宛先B: 空欄（未使用）</li>
  <li>FPS: 10 → 「センサー許可」→「送信開始」</li>
</ul>

<h3>確認</h3>
<ul>
  <li>PC: <code>[logger] client connected ...</code></li>
  <li><code>logs/YYYY-MM-DD.csv</code> が生成され、センサー値を追記</li>
</ul>

<h3>次の拡張（ESP32連携）</h3>
<p>宛先Bに <code>ws://&lt;ESP32のIP&gt;:81</code>。スケッチにWi-Fi設定 → シリアルモニタでIP確認。</p>

<p class="muted">詳細な日付ログは <a href="./logs/">/logs/</a> へ（Markdown）。</p>

</body>
</html>
